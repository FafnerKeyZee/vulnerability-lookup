<div class="table-responsive-md">
    <table id="table-users" class="table table-hover">
    <thead>
        <tr>
            <th>id</th>
            <th>Login</th>
            <th>Email address</th>
            <th>Member since</th>
            <th>Last seen</th>
            <th>State</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for user in users %}
        <tr>
            <th scope="row">{{ user.id }}</th>
            <td>{{ user.login  }}</td>
            <td><a href="mailto:{{ user.email }}">{{ user.email }}</a></td>
            <td class="date">{{ user.created_at | datetimeformat }}</td>
            <td class="date">{{ user.last_seen | datetimeformat }}</td>
            <td>
                {% if user.is_admin %}{{ render_icon('person-circle', title='Admin user') }}{% endif %}
                {% if not user.is_active %}{{ render_icon('lock', title='Account inactive', color='red') }}{% endif %}
                {% if user.is_two_factor_authentication_enabled %}{{ render_icon('key', title='TFA enabled', color='green') }}{% else %}{{ render_icon('key', title='TFA not enabled', color='red') }}{% endif %}
            </td>
            <td>
                <a class="icon-link" href="{{ url_for("admin_bp.form_user", user_id=user.id) }}">{{ render_icon('pen', title='Edit the user') }}</a>
                {% if current_user.id != user.id %}
                <a class="icon-link" href="{{ url_for("admin_bp.toggle_user", user_id=user.id) }}">{% if not user.is_active  %}{{ render_icon('unlock') }}{% else %}{{ render_icon('lock') }}{% endif %}</a>
                <a class="icon-link" href="{{ url_for("admin_bp.reset_two_factor_auth", user_id=user.id) }}">{{ render_icon('arrow-clockwise', title='Reset Two-Factor Authentication') }}</a>
                <a class="icon-link" href="{{ url_for("admin_bp.delete_user", user_id=user.id) }}">{{ render_icon('trash') }}</a>
                {% endif %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
    </table>
</div>
