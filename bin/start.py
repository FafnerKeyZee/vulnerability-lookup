#!/usr/bin/env python3

from __future__ import annotations

from subprocess import Popen, run

from vulnerabilitylookup.default import get_homedir


def main() -> None:
    # Just fail if the env isn't set.
    get_homedir()
    print('Start backend (redis)...')
    p = run(['run_backend', '--start'])
    p.check_returncode()
    print('done.')
    print('Start NVD importer...')
    #Popen(['nvd_importer'])
    print('done.')
    print('Start CVEListV5 importer...')
    #Popen(['cvelist_importer'])
    print('done.')
    print('Start CISA known exploited...')
    #Popen(['cisa_known_exploited'])
    print('done.')
    print('Start GSD importer...')
    #Popen(['gsd_importer'])
    print('done.')
    print('Start PySec importer...')
    #Popen(['pysec_importer'])
    print('done.')
    print('Start Github importer...')
    #Popen(['github_importer'])
    print('done.')
    print('Start website...')
    #Popen(['start_website'])
    print('done.')


if __name__ == '__main__':
    main()
